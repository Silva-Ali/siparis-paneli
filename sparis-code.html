<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="tr"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Sipariş Takip Paneli&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Chosen Palette: Warm Neutrals --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Application Structure Plan: The application is designed as a single-page dashboard with a fluid, layered structure. The main view presents a polished, visually appealing dashboard with key metrics (KPIs), a dynamic data table, and interactive charts. The core interaction flow is a drill-down model: clicking on any interactive element (table row, chart segment) opens a single, multi-purpose modal that provides granular details. A critical improvement is the integration of an AI-generated summary, which now loads automatically on page entry, giving the user instant high-level insights. This structure prioritizes both an aesthetic "feel" and a clear, logical exploration path, allowing users to effortlessly switch between a macro overview and micro-level details without feeling overwhelmed. --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Visualization &amp; Content Choices:<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>- KPI Cards: (Goal: Inform) Used to present key metrics including status-based counts. Method: Stylish HTML/Tailwind cards with hover effects. Interaction: Now also clickable to show related orders in a modal, creating a consistent user flow. Justification: Provides immediate, high-level, and now interactive insights into operational status.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Orders Table: (Goal: Organize/Inform) A detailed, scrollable table with 'Durum' and more readable 'Sipariş Tarihi' columns. Method: HTML Table with dynamic content. Interaction: Rows are clickable to show individual order details in a modal. Justification: Remains the core source for detailed transaction data.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Doughnut Chart (Revenue by Product): (Goal: Compare) To show revenue contribution by product. Method: Chart.js Canvas. Interaction: Clicking a segment filters data and shows a list of orders for that product in a modal. Justification: Excellent for visualizing part-to-whole relationships and provides an interactive entry point for product-specific analysis.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Bar Chart (Orders by Month): (Goal: Change/Compare) To show order volume over time. Method: Chart.js Canvas. Interaction: Clicking a bar filters the data and shows a list of orders for that month in a modal. Justification: Ideal for comparing quantities across time periods and identifying trends.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Gemini Summary Section: (Goal: Analyze) A dedicated section for the AI-generated summary. Method: A dynamic text block updated via a Fetch API call. Interaction: Automated on page load. Justification: This transforms the app from a simple dashboard to an AI-powered business intelligence tool by providing instant, high-level analysis, making it more valuable and engaging.</p>
<p class="p1"><span class="Apple-converted-space">    </span>--&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f0f0f2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.container-main {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f8f7f4;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.chart-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 600px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-right: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 300px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-height: 400px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (min-width: 768px) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>.chart-container {</p>
<p class="p1"><span class="Apple-converted-space">                </span>height: 350px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.table-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-height: 600px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow-y: auto;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: fixed;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 100;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgb(0,0,0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(0,0,0,0.4);</p>
<p class="p1"><span class="Apple-converted-space">            </span>backdrop-filter: blur(5px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>-webkit-backdrop-filter: blur(5px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal-content {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #fefefe;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 24px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 90%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 700px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 12px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: fadeIn 0.3s ease-out;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.close-button {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #aaa;</p>
<p class="p1"><span class="Apple-converted-space">            </span>float: right;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 28px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.close-button:hover,</p>
<p class="p1"><span class="Apple-converted-space">        </span>.close-button:focus {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: black;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-decoration: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeIn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>from { opacity: 0; transform: translateY(-20px); }</p>
<p class="p1"><span class="Apple-converted-space">            </span>to { opacity: 1; transform: translateY(0); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="text-gray-800"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="container mx-auto p-4 sm:p-6 lg:p-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;header class="text-center mb-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1 class="text-4xl font-extrabold text-gray-900"&gt;Sipariş Takip Paneli&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="text-lg text-gray-600 mt-2"&gt;Sipariş verilerinin genel durumu ve ürün performans analizleri.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;main class="grid grid-cols-1 lg:grid-cols-3 gap-8 p-6 container-main"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="lg:col-span-2 space-y-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;section id="kpi-section" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white p-6 rounded-2xl shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-xl font-semibold mb-1"&gt;Tüm Siparişler&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-500 mb-4"&gt;Aşağıdaki tablo, verilen tüm siparişlerin detaylarını içermektedir. Satırlara tıklayarak siparişin detaylarını ve durumunu görüntüleyip değiştirebilirsiniz.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="table-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;thead class="bg-gray-50 sticky top-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Sipariş Tarihi&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Ürün Adı&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Adet&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Toplam Tutar&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Durum&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tbody id="orders-table-body" class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="lg:col-span-1 space-y-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white p-6 rounded-2xl shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-xl font-semibold mb-1"&gt;Genel Durum Özeti&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-500 mb-4"&gt;Gemini tarafından oluşturulan sipariş verilerinin kısa özeti.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="getSummaryButton" class="w-full bg-indigo-600 text-white font-semibold py-2 px-4 rounded-xl shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105"&gt;Özet Oluştur&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="summary-section" class="min-h-[100px] flex items-center justify-center p-4 rounded-lg bg-gray-50 mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div id="summary-loader" class="text-center hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;svg class="animate-spin h-6 w-6 text-indigo-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"&gt;&lt;/circle&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"&gt;&lt;/path&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/svg&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="mt-2 text-sm text-gray-500"&gt;Analiz yapılıyor...&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p id="summaryText" class="text-gray-700 leading-relaxed"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white p-6 rounded-2xl shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-xl font-semibold mb-1"&gt;Ürüne Göre Tutar Dağılımı&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-500 mb-4"&gt;Hangi ürünün toplam ciroya ne kadar katkı sağladığını gösterir. Detaylar için dilime tıklayınız.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="chart-container h-64 md:h-72"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;canvas id="revenueByProductChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white p-6 rounded-2xl shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;h2 class="text-xl font-semibold mb-1"&gt;Aylara Göre Sipariş Adetleri&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;p class="text-sm text-gray-500 mb-4"&gt;Aylık sipariş yoğunluğunu ve trendleri gösterir. Detaylar için çubuğa tıklayınız.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="chart-container h-64 md:h-72"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;canvas id="ordersByMonthChart"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- The Modal for Order Details --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="detailsModal" class="modal"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="close-button" onclick="closeModal('detailsModal')"&gt;&amp;times;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 id="modalTitle" class="text-2xl font-bold mb-4"&gt;&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="modalContent" class="space-y-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const API_KEY = "AIzaSyCRNEUe1yIp-eAcOGgERRPSVV5FFptInkA";</p>
<p class="p1"><span class="Apple-converted-space">        </span>const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + API_KEY;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let rawData = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 1, date: '2025-01-27', code: '203001', name: 'PREMIUM BULAŞIK SÜNGERİ', qty: 10000, price: 0.54, status: 'Stokta' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 2, date: '2025-03-04', code: '203001', name: 'PREMIUM BULAŞIK SÜNGERİ', qty: 10000, price: 0.54, status: 'Stokta' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 3, date: '2025-06-13', code: '203001', name: 'PREMIUM BULAŞIK SÜNGERİ', qty: 20000, price: 0.54, status: 'Yolda (Gemi)' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 4, date: '2025-07-25', code: '203001', name: 'PREMIUM BULAŞIK SÜNGERİ', qty: 10000, price: 0.54, status: 'Yolda (Gemi)' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 5, date: '2025-04-21', code: '203009', name: 'PREMIUM BANYO BEZİ', qty: 10000, price: 0.91, status: 'Yolda (Uçak)' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 6, date: '2025-07-25', code: '202020', name: 'MAVİ BONE', qty: 5000, price: 2.44, status: 'Stokta' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ id: 7, date: '2025-08-28', code: '202001', name: 'BULAŞIK SÜNGERİ', qty: 20000, price: 0.58, status: 'Stokta' }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const formatDate = (dateString) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = new Date(dateString);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const options = { day: 'numeric', month: 'long', year: 'numeric' };</p>
<p class="p1"><span class="Apple-converted-space">            </span>return date.toLocaleDateString('tr-TR', options);</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>const formatCurrency = (value) =&gt; new Intl.NumberFormat('tr-TR', { style: 'currency', currency: 'USD' }).format(value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const formatNumber = (value) =&gt; new Intl.NumberFormat('tr-TR').format(value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>const statusMap = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'Yolda (Gemi)': 'text-blue-500 font-semibold',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'Yolda (Uçak)': 'text-yellow-500 font-semibold',</p>
<p class="p1"><span class="Apple-converted-space">            </span>'Stokta': 'text-green-500 font-semibold'</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const renderUI = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalRevenue = rawData.reduce((sum, item) =&gt; sum + item.qty * item.price, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalQuantity = rawData.reduce((sum, item) =&gt; sum + item.qty, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalOrders = rawData.length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const uniqueProducts = new Set(rawData.map(item =&gt; item.name)).size;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalOnShip = rawData.filter(item =&gt; item.status === 'Yolda (Gemi)').length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalOnPlane = rawData.filter(item =&gt; item.status === 'Yolda (Uçak)').length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalInStock = rawData.filter(item =&gt; item.status === 'Stokta').length;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const kpiData = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Toplam Tutar', value: formatCurrency(totalRevenue), icon: '💰' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Toplam Adet', value: formatNumber(totalQuantity), icon: '📦' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Sipariş Sayısı', value: totalOrders, icon: '📄' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Yolda (Gemi)', value: totalOnShip, icon: '🚢', filter: 'Yolda (Gemi)' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Yolda (Uçak)', value: totalOnPlane, icon: '✈️', filter: 'Yolda (Uçak)' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ label: 'Stokta', value: totalInStock, icon: '🏠', filter: 'Stokta' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const kpiSection = document.getElementById('kpi-section');</p>
<p class="p1"><span class="Apple-converted-space">            </span>kpiSection.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>kpiData.forEach(kpi =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.className = `bg-white p-5 rounded-2xl shadow-md flex items-center transition duration-300 transform hover:scale-105 cursor-pointer`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-3xl mr-4"&gt;${kpi.icon}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-sm text-gray-500"&gt;${kpi.label}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-2xl font-bold text-gray-900"&gt;${kpi.value}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (kpi.filter) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>card.onclick = () =&gt; showDetails(`${kpi.label} Siparişleri`, rawData.filter(item =&gt; item.status === kpi.filter));</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>kpiSection.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const tableBody = document.getElementById('orders-table-body');</p>
<p class="p1"><span class="Apple-converted-space">            </span>tableBody.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>rawData.forEach(order =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const row = document.createElement('tr');</p>
<p class="p1"><span class="Apple-converted-space">                </span>row.className = 'hover:bg-gray-50 cursor-pointer transition duration-150';</p>
<p class="p1"><span class="Apple-converted-space">                </span>row.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"&gt;${formatDate(order.date)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"&gt;${order.name}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"&gt;${formatNumber(order.qty)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"&gt;${formatCurrency(order.qty * order.price)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm ${statusMap[order.status]}"&gt;${order.status}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>row.onclick = () =&gt; showDetails('Sipariş Detayı', order);</p>
<p class="p1"><span class="Apple-converted-space">                </span>tableBody.appendChild(row);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const productRevenue = rawData.reduce((acc, order) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const total = order.qty * order.price;</p>
<p class="p1"><span class="Apple-converted-space">                </span>acc[order.name] = (acc[order.name] || 0) + total;</p>
<p class="p1"><span class="Apple-converted-space">                </span>return acc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, {});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const revenueByProductCtx = document.getElementById('revenueByProductChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (window.revenueChart) window.revenueChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.revenueChart = new Chart(revenueByProductCtx, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'doughnut',</p>
<p class="p1"><span class="Apple-converted-space">                </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>labels: Object.keys(productRevenue),</p>
<p class="p1"><span class="Apple-converted-space">                    </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'Tutar',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: Object.values(productRevenue),</p>
<p class="p1"><span class="Apple-converted-space">                        </span>backgroundColor: ['#4f46e5', '#10b981', '#f59e0b', '#3b82f6', '#ef4444'],</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderColor: '#ffffff',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderWidth: 4</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onClick: (evt, elements) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (elements.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const index = elements[0].index;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const productName = Object.keys(productRevenue)[index];</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const filteredOrders = rawData.filter(order =&gt; order.name === productName);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>showDetails(`${productName} Siparişleri`, filteredOrders);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>legend: { position: 'bottom', labels: { padding: 20 } },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>tooltip: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>callbacks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: function(context) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return `${context.label}: ${formatCurrency(context.raw)}`;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>cutout: '60%'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthlyOrders = rawData.reduce((acc, order) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const month = new Date(order.date).toLocaleString('tr-TR', { month: 'long', year: 'numeric' });</p>
<p class="p1"><span class="Apple-converted-space">                </span>acc[month] = (acc[month] || 0) + order.qty;</p>
<p class="p1"><span class="Apple-converted-space">                </span>return acc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, {});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const sortedMonths = Object.keys(monthlyOrders).sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const [monthA, yearA] = a.split(' ');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const [monthB, yearB] = b.split(' ');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const monthMap = { 'Ocak': 0, 'Şubat': 1, 'Mart': 2, 'Nisan': 3, 'Mayıs': 4, 'Haziran': 5, 'Temmuz': 6, 'Ağustos': 7, 'Eylül': 8, 'Ekim': 9, 'Kasım': 10, 'Aralık': 11 };</p>
<p class="p1"><span class="Apple-converted-space">                </span>return new Date(yearA, monthMap[monthA]) - new Date(yearB, monthMap[monthB]);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const sortedQuantities = sortedMonths.map(month =&gt; monthlyOrders[month]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const ordersByMonthCtx = document.getElementById('ordersByMonthChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (window.ordersChart) window.ordersChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">            </span>window.ordersChart = new Chart(ordersByMonthCtx, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'bar',</p>
<p class="p1"><span class="Apple-converted-space">                </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>labels: sortedMonths,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'Sipariş Adedi',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: sortedQuantities,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>backgroundColor: '#3b82f6',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderRadius: 6</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onClick: (evt, elements) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (elements.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const index = elements[0].index;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const monthName = sortedMonths[index];</p>
<p class="p1"><span class="Apple-converted-space">                            </span>const filteredOrders = rawData.filter(order =&gt; new Date(order.date).toLocaleString('tr-TR', { month: 'long', year: 'numeric' }) === monthName);</p>
<p class="p1"><span class="Apple-converted-space">                            </span>showDetails(`${monthName} Siparişleri`, filteredOrders);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>legend: { display: false }</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>y: {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                            </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>grid: { drawBorder: false },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>x: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>grid: { display: false }</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const showDetails = (title, data) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modal = document.getElementById('detailsModal');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalTitle = document.getElementById('modalTitle');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const modalContent = document.getElementById('modalContent');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>modalTitle.textContent = title;</p>
<p class="p1"><span class="Apple-converted-space">            </span>modalContent.innerHTML = '';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (Array.isArray(data)) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const tableHtml = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="table-container max-h-[300px]"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;table class="min-w-full divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;thead class="bg-gray-50 sticky top-0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Sipariş Tarihi&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Ürün Adı&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Adet&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Toplam Tutar&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"&gt;Durum&lt;/th&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tbody class="bg-white divide-y divide-gray-200"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>${data.map(item =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"&gt;${formatDate(item.date)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"&gt;${item.name}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700"&gt;${formatNumber(item.qty)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"&gt;${formatCurrency(item.qty * item.price)}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;td class="px-6 py-4 whitespace-nowrap text-sm ${statusMap[item.status]}"&gt;${item.status}&lt;/td&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/table&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>modalContent.innerHTML = tableHtml;</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const item = data;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const detailHtml = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-gray-50 p-6 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-500"&gt;Sipariş Tarihi&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-lg font-semibold"&gt;${formatDate(item.date)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-gray-50 p-6 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-gray-500"&gt;Ürün Adı&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-lg font-semibold"&gt;${item.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="grid grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 p-6 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-500"&gt;Adet&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-lg font-semibold"&gt;${formatNumber(item.qty)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 p-6 rounded-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-500"&gt;Birim Fiyat&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-lg font-semibold"&gt;${formatCurrency(item.price)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="bg-gray-50 p-6 rounded-lg col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-500"&gt;Toplam Tutar&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-lg font-semibold"&gt;${formatCurrency(item.qty * item.price)}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;label for="status-select" class="block text-sm font-medium text-gray-700 mb-2"&gt;Sipariş Durumunu Değiştir&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;select id="status-select" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="Yolda (Gemi)" ${item.status === 'Yolda (Gemi)' ? 'selected' : ''}&gt;Yolda (Gemi)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="Yolda (Uçak)" ${item.status === 'Yolda (Uçak)' ? 'selected' : ''}&gt;Yolda (Uçak)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;option value="Stokta" ${item.status === 'Stokta' ? 'selected' : ''}&gt;Stokta&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>modalContent.innerHTML = detailHtml;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusSelect = document.getElementById('status-select');</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusSelect.addEventListener('change', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const newStatus = e.target.value;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const orderToUpdate = rawData.find(o =&gt; o.id === item.id);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (orderToUpdate) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>orderToUpdate.status = newStatus;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>renderUI();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>modal.style.display = 'flex';</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const closeModal = (modalId) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById(modalId).style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const getSummary = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const summaryLoader = document.getElementById('summary-loader');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const summaryText = document.getElementById('summaryText');</p>
<p class="p1"><span class="Apple-converted-space">            </span>summaryLoader.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>summaryText.classList.add('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const formattedData = rawData.map(order =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>`Sipariş ID: ${order.id}, Tarih: ${order.date}, Ürün Adı: ${order.name}, Adet: ${order.qty}, Birim Fiyat: ${order.price}, Toplam Tutar: ${order.qty * order.price}, Durum: ${order.status}`</p>
<p class="p1"><span class="Apple-converted-space">            </span>).join('\n');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const prompt = `Aşağıdaki sipariş verilerini analiz et ve bir iş analisti gibi davranarak önemli bulguları ve anahtar metrikleri (toplam sipariş sayısı, toplam tutar, en çok satan ürün, durum dağılımı gibi) özetle. Yanıtını maddeler halinde ve profesyonel bir dille sun. Veriler:\n\n${formattedData}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const payload = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>contents: [{ parts: [{ text: prompt }] }],</p>
<p class="p1"><span class="Apple-converted-space">                </span>systemInstruction: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>parts: [{ text: "Sen bir veri analisti ve uzman iş danışmanısın. Verilen veriyi en önemli bulgularıyla birlikte özetle." }]</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>tools: [{ "google_search": {} }]</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>let retryCount = 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxRetries = 3;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const baseDelay = 1000;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const makeApiCall = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const response = await fetch(API_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>body: JSON.stringify(payload)</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (!response.ok) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const errorData = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>throw new Error(`API hatası: ${response.status} - ${errorData.error.message}`);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const text = result?.candidates?.[0]?.content?.parts?.[0]?.text || "Özet oluşturulamadı.";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>summaryText.innerText = text;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>summaryLoader.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>summaryText.classList.remove('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (retryCount &lt; maxRetries) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const delay = baseDelay * Math.pow(2, retryCount);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>retryCount++;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>setTimeout(makeApiCall, delay);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>summaryText.innerText = `Özet alınamadı. Lütfen daha sonra tekrar deneyin. Hata: ${error.message}`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>summaryLoader.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                        </span>summaryText.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>makeApiCall();</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderUI();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const getSummaryButton = document.getElementById('getSummaryButton');</p>
<p class="p1"><span class="Apple-converted-space">            </span>getSummaryButton.addEventListener('click', getSummary);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
